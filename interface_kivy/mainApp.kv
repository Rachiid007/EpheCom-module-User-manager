ScreenManager:
    id: screen_manager

    Screen:
        name: "connection"

        MDBottomNavigation:
            MDBottomNavigationItem:
                name: "login_screen"
                text: "Login"
                icon: "account-circle"

                MDRelativeLayout:
                    md_bg_color: [148/255,136/255,251/255, 1]
                    orientation: "vertical"

                    MDCard:
                        md_bg_color: [118/255,106/255,221/255, 1]
                        size_hint: None, None
                        size: 400, 500
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        spacing: 40
                        padding: 20
                        orientation: "vertical"
                        elevation: 15

                        MDLabel:
                            id: login_text
                            text: "Login"
                            color: [1,1,1,1]
                            font_size: 50
                            halign: "center"
                            size_hint_y: None
                            height: self.texture_size[1]
                            padding_y: 25

                        MDTextFieldRound:
                            id: l_pseudo
                            hint_text: "pseudo"
                            icon_left: "account"
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDTextFieldRound:
                            id: l_password
                            hint_text: "password"
                            icon_left: "eye-off"
                            password: True
                            allow_copy: False
                            color: [1,1,1,1]
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDRelativeLayout:
                            orientation: "horizontal"

                            MDRaisedButton:
                                id: sign_up
                                text: "[color=#00556a]Sign-Up[/color]"
                                md_bg_color: [140/255, 255/255, 255/255, 0.5]
                                size_hint_x: None
                                pos_hint: {"center_x" : 0.25, "center_y": 0.5}
                                on_press : app.login()

                            MDRaisedButton:
                                id: forgot_psw
                                text: "[color=#00556a]Forgot password[/color]"
                                md_bg_color: [140/255, 255/255, 255/255, 0.5]
                                size_hint_x: None
                                pos_hint: {"center_x" : 0.75, "center_y": 0.5}
                                on_press : app.go_to_forgot_psw()

            MDBottomNavigationItem:
                name: "register_screen"
                text: "Register"
                icon: "account-edit"

                MDRelativeLayout:
                    md_bg_color: [148/255,136/255,251/255, 1]
                    orientation: "vertical"

                    MDCard:
                        md_bg_color: [118/255,106/255,221/255, 1]
                        size_hint: None, None
                        size: 400, 800
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        spacing: 40
                        padding: 20
                        orientation: "vertical"
                        elevation: 15

                        MDLabel:
                            id: register_text
                            text: "Register"
                            color: [1,1,1,1]
                            font_size: 50
                            halign: "center"
                            height: self.texture_size[1]
                            padding_y: 25

                        MDTextFieldRound:
                            id: r_pseudo
                            hint_text: "pseudo"
                            icon_left: "account"
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDFillRoundFlatIconButton:
                            id: r_age
                            text: "birthday"
                            icon: "account"
                            size_hint_x: 0.65
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            md_bg_color: [140/255, 255/255, 255/255, 0.7]
                            theme_text_color: "Custom"
                            text_color: [64/255,64/255,64/255,0.6]
                            theme_icon_color: "Custom"
                            icon_color: [64/255,64/255,64/255,0.6]
                            on_press: app.display_date_picker()

                        MDTextFieldRound:
                            id: r_email
                            hint_text: "email"
                            icon_left: "mail"
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDTextFieldRound:
                            id: r_password
                            hint_text: "password"
                            icon_left: "eye-off"
                            password: True
                            allow_copy: False
                            color: [1,1,1,1]
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDTextFieldRound:
                            id: r_password_confirm
                            hint_text: "confirm password"
                            icon_left: "eye-off"
                            password: True
                            allow_copy: False
                            color: [1,1,1,1]
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDTextFieldRound:
                            id: r_security_question
                            hint_text: "security question"
                            icon_left: "account"
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDTextFieldRound:
                            id: r_security_answer
                            hint_text: "security answer"
                            icon_left: "account"
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDRaisedButton:
                            id: register
                            text: "[color=#00556a]Register[/color]"
                            md_bg_color: [140/255, 255/255, 255/255, 0.5]
                            size_hint_x: None
                            pos_hint: {"center_x" : 0.5}
                            on_press : app.register()


    Screen
        name: "forgot_psw"

        MDRelativeLayout:
            md_bg_color: [148/255,136/255,251/255, 1]
            orientation: "vertical"

            MDCard:
                md_bg_color: [118/255,106/255,221/255, 1]
                size_hint: None, None
                size: 400, 600
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                spacing: 5
                padding: 5
                orientation: "vertical"
                elevation: 15

                MDLabel:
                    id: fp_question
                    text: "Something should have appeared here ! "
                    font_size: 20
                    color: [1,1,1,1]
                    halign: "center"
                    size_hint: 1 , None
                    pos_hint: {"center_x" : 0.5, "center_y" : 0.5}

                MDTextFieldRound:
                    id: fp_answer
                    hint_text: "security answer"
                    icon_left: "account"
                    size_hint_x: None
                    width: 200
                    font_size: 25
                    pos_hint: {"center_x": 0.5}
                    normal_color:[140/255, 255/255, 255/255, 0.7]
                    color_active: [140/255, 255/255, 255/255, 0.7]

                MDTextFieldRound:
                    id: fp_new_psw
                    hint_text: "new password"
                    icon_left: "eye-off"
                    password: True
                    allow_copy: False
                    color: [1,1,1,1]
                    size_hint_x: None
                    width: 200
                    font_size: 25
                    pos_hint: {"center_x": 0.5}
                    normal_color:[140/255, 255/255, 255/255, 0.7]
                    color_active: [140/255, 255/255, 255/255, 0.7]

                MDTextFieldRound:
                    id: fp_confirm_psw
                    hint_text: "confirm password"
                    icon_left: "eye-off"
                    password: True
                    allow_copy: False
                    color: [1,1,1,1]
                    size_hint_x: None
                    width: 200
                    font_size: 25
                    pos_hint: {"center_x": 0.5}
                    normal_color:[140/255, 255/255, 255/255, 0.7]
                    color_active: [140/255, 255/255, 255/255, 0.7]

                MDRelativeLayout:
                    orientation: "horizontal"

                    MDRaisedButton:
                        id: sign_up
                        text: "[color=#00556a]Cancel[/color]"
                        md_bg_color: [140/255, 255/255, 255/255, 0.5]
                        size_hint_x: None
                        pos_hint: {"center_x" : 0.25, "center_y": 0.5}
                        on_press : root.current = "connection"

                    MDRaisedButton:
                        id: forgot_psw
                        text: "[color=#00556a]Send request[/color]"
                        md_bg_color: [140/255, 255/255, 255/255, 0.5]
                        size_hint_x: None
                        pos_hint: {"center_x" : 0.75, "center_y": 0.5}
                        on_press : app.forgot_psw()

    Screen:
        name: "profile"

        MDBottomNavigation:
            MDBottomNavigationItem:
                name: "profile_screen"
                text: "profile"
                icon: "account-circle"

                MDRelativeLayout:
                    md_bg_color: [148/255,136/255,251/255, 1]
                    orientation: "vertical"

                    MDCard:
                        md_bg_color: [118/255,106/255,221/255, 1]
                        size_hint: None, None
                        size: 400, 600
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        spacing: 5
                        padding: 5
                        orientation: "vertical"
                        elevation: 15

                        MDLabel:
                            id: p_display_pseudo
                            text: ""
                            font_size: 20
                            color: [1,1,1,1]
                            halign: "center"
                            size_hint: 1 , None
                            pos_hint: {"center_x" : 0.5, "center_y" : 0.5}

                        MDLabel:
                            id: p_display_data
                            text: "Something should have appeared here"
                            multiline: True
                            color: [1,1,1,1]
                            font_size: 20
                            halign: "center"
                            height: self.texture_size[1]

                        MDIconButton:
                            icon: "cog"
                            md_bg_color: [140/255, 255/255, 255/255, 0.5]
                            size_hint: None, None
                            pos_hint: {"center_x" : 0.5, "center_y" : 0.6}
                            on_press : root.current = "edit_profile"

            MDBottomNavigationItem:
                name: "users_list"
                text: "Other users"
                icon: "account-circle"

                MDRelativeLayout:
                    md_bg_color: [148/255,136/255,251/255, 1]
                    orientation: "vertical"

                    ScrollView:

                        MDList:
                            id: display_all_user

            MDBottomNavigationItem:
                name: "disconnection_screen"
                text: "log out"
                icon: "account-cancel"

                MDRelativeLayout:
                    md_bg_color: [148/255,136/255,251/255, 1]
                    orientation: "vertical"

                    MDRaisedButton:
                        id: log_out
                        text: "[color=#ffffff]Log out[/color]"
                        font_size: 25
                        md_bg_color: [140/255, 255/255, 255/255, 0.5]
                        size_hint: 0.15, 0.2
                        pos_hint: {"center_x" : 0.5, "center_y" : 0.5}
                        on_press : app.log_out()

    Screen:
        name: "edit_profile"

        MDRelativeLayout:
            md_bg_color: [148/255,136/255,251/255, 1]
            orientation: "vertical"

            MDCard:
                md_bg_color: [118/255,106/255,221/255, 1]
                size_hint: None, None
                size: 800, 600
                pos_hint: {"center_x": 0.5, "center_y": 0.5}
                spacing: 40
                padding: 20
                orientation: "vertical"
                elevation: 15

                MDBoxLayout:
                    MDLabel:
                        text: "Update your profile"
                        color: [1,1,1,1]
                        font_size: 50
                        halign: "center"
                        height: self.texture_size[1]
                        padding_y: 10
                MDBoxLayout:
                    orientation: "horizontal"

                    MDBoxLayout:
                        orientation: "vertical"
                        spacing: 40

                        MDTextFieldRound:
                            id: ed_pseudo
                            hint_text: "pseudo"
                            icon_left: "account"
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDTextFieldRound:
                            id: ed_email
                            hint_text: "email"
                            icon_left: "mail"
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDTextFieldRound:
                            id: ed_password
                            hint_text: "new password"
                            icon_left: "eye-off"
                            password: True
                            allow_copy: False
                            color: [1,1,1,1]
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDTextFieldRound:
                            id: ed_password_confirm
                            hint_text: "confirm password"
                            icon_left: "eye-off"
                            password: True
                            allow_copy: False
                            color: [1,1,1,1]
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                    MDBoxLayout:
                        orientation:"vertical"
                        spacing: 10

                        MDRaisedButton:
                            text: "[color=#ffffff]Cancel[/color]"
                            font_size: 25
                            md_bg_color: [140/255, 255/255, 255/255, 0.5]
                            pos_hint: {"center_x": 0.5}
                            on_press: root.current = "profile"

                        MDRaisedButton:
                            text: "[color=#ffffff]Delete[/color]"
                            font_size: 25
                            md_bg_color: [98/255, 0/255, 0/255, 0.5]
                            pos_hint: {"center_x": 0.5}
                            on_press: app.delete_profile()

                        MDRaisedButton:
                            text: "[color=#ffffff]Update[/color]"
                            font_size: 25
                            md_bg_color: [140/255, 255/255, 255/255, 0.5]
                            pos_hint: {"center_x": 0.5}
                            on_press: app.update_profile()

                        MDTextFieldRound:
                            id: ed_current_password
                            hint_text: "password"
                            icon_left: "eye-off"
                            password: True
                            allow_copy: False
                            color: [1,1,1,1]
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                    MDBoxLayout:
                        orientation: "vertical"
                        spacing: 40

                        MDTextFieldRound:
                            id: ed_first_name
                            hint_text: "first name"
                            icon_left: "account"
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDTextFieldRound:
                            id: ed_last_name
                            hint_text: "last name"
                            icon_left: "account"
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDTextFieldRound:
                            id: ed_security_question
                            hint_text: "security question"
                            icon_left: "account"
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]

                        MDTextFieldRound:
                            id: ed_security_answer
                            hint_text: "security answer"
                            icon_left: "account"
                            size_hint_x: None
                            width: 200
                            font_size: 25
                            pos_hint: {"center_x": 0.5}
                            normal_color:[140/255, 255/255, 255/255, 0.7]
                            color_active: [140/255, 255/255, 255/255, 0.7]


